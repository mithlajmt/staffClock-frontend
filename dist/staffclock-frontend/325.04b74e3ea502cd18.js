"use strict";(self.webpackChunkstaffclock_frontend=self.webpackChunkstaffclock_frontend||[]).push([[325],{1325:(ve,g,a)=>{a.r(g),a.d(g,{AdminModule:()=>he});var c=a(6814),d=a(2058),e=a(5879),h=a(7429),v=a(1634),y=a(2469);let x=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-admin"]],decls:7,vars:0,consts:[[1,"w-screen","flex","flex-row","max-h-screen","overflow-hidden","max-w-full"],[1,"flex","flex-col","w-full","min-h-full"],[1,""],[1,"overflow-auto","min-h-full","p-3"]],template:function(n,l){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"app-sidebar"),e.TgZ(2,"div",1),e._UZ(3,"app-navbar",2),e.TgZ(4,"div",3),e._UZ(5,"router-outlet",2)(6,"app-loading"),e.qZA()()())},dependencies:[d.lC,h.k,v.S,y.N]})}return o})(),b=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-dashboard"]],decls:0,vars:0,template:function(n,l){}})}return o})();var r=a(6223),_=a(553),Z=a(9862);let u=(()=>{class o{constructor(t){this.http=t,this.url=_.N.apiUrl}recruitEmployee(t){return this.http.post(`${this.url}/admin/employee`,t)}getLeaveRequests(){return this.http.get(`${this.url}/attendance/leaveRequest`)}updateLeaveRequest(t,n){return this.http.patch(`${this.url}/attendance/leaveRequest`,{status:n,id:t})}getEmployeeDatas(){return this.http.get(`${this.url}/admin/employee`)}getFullEmployeeData(t){return this.http.get(`${this.url}/admin/employee/${t}`)}getEmployeeAttendance(t){return this.http.get(`${this.url}/attendance/employee/${t}`)}deletingEmployee(t){return this.http.delete(`${this.url}admin/employee/${t}`)}static#e=this.\u0275fac=function(n){return new(n||o)(e.LFG(Z.eN))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var T=a(2045),p=a(2548),A=a(87);function q(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"Employee Name is required."),e.qZA())}function E(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"Employee Name must be at least 2 characters long."),e.qZA())}function N(o,i){if(1&o&&(e.TgZ(0,"div",28),e.YNc(1,q,2,0,"div",29),e.YNc(2,E,2,0,"div",29),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeName||null==t.employeeName.errors?null:t.employeeName.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeName||null==t.employeeName.errors?null:t.employeeName.errors.minlength)}}function I(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"Gender is required."),e.qZA())}function U(o,i){if(1&o&&(e.TgZ(0,"div",28),e.YNc(1,I,2,0,"div",29),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.gender||null==t.gender.errors?null:t.gender.errors.required)}}function C(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"Phone Number is required."),e.qZA())}function D(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"Phone Number must be 10 digits long."),e.qZA())}function w(o,i){if(1&o&&(e.TgZ(0,"div",28),e.YNc(1,C,2,0,"div",29),e.YNc(2,D,2,0,"div",29),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.contactNumber||null==t.contactNumber.errors?null:t.contactNumber.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.contactNumber||null==t.contactNumber.errors?null:t.contactNumber.errors.pattern)}}function F(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"Salary is required."),e.qZA())}function L(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"Salary must be at least 2 characters long."),e.qZA())}function Y(o,i){if(1&o&&(e.TgZ(0,"div",28),e.YNc(1,F,2,0,"div",29),e.YNc(2,L,2,0,"div",29),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.salary||null==t.salary.errors?null:t.salary.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.salary||null==t.salary.errors?null:t.salary.errors.minlength)}}function J(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"Email is required."),e.qZA())}function O(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"Email is not valid."),e.qZA())}function Q(o,i){if(1&o&&(e.TgZ(0,"div",28),e.YNc(1,J,2,0,"div",29),e.YNc(2,O,2,0,"div",29),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.contactEmail||null==t.contactEmail.errors?null:t.contactEmail.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.contactEmail||null==t.contactEmail.errors?null:t.contactEmail.errors.email)}}function j(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"Job Title is required."),e.qZA())}function R(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"Job Title must be at least 2 characters long."),e.qZA())}function S(o,i){if(1&o&&(e.TgZ(0,"div",28),e.YNc(1,j,2,0,"div",29),e.YNc(2,R,2,0,"div",29),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.jobTitle||null==t.jobTitle.errors?null:t.jobTitle.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.jobTitle||null==t.jobTitle.errors?null:t.jobTitle.errors.minlength)}}function B(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"Date of Birth is required."),e.qZA())}function k(o,i){if(1&o&&(e.TgZ(0,"div",28),e.YNc(1,B,2,0,"div",29),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.dateOfBirth||null==t.dateOfBirth.errors?null:t.dateOfBirth.errors.required)}}let M=(()=>{class o{constructor(t,n,l,s){this.fb=t,this.admin=n,this.confirm=l,this.loading=s}ngOnInit(){this.reactiveForm=this.fb.group({employeeName:["",[r.kI.required,r.kI.minLength(2)]],gender:["",r.kI.required],contactNumber:["",[r.kI.required,r.kI.pattern("^[0-9]{10}$")]],salary:["",[r.kI.required,r.kI.minLength(2)]],contactEmail:["",[r.kI.required,r.kI.email]],jobTitle:["",[r.kI.required,r.kI.minLength(2)]],dateOfBirth:["",r.kI.required]})}onSubmit(){const t=this.reactiveForm.value;this.reactiveForm.valid&&(this.loading.showLoading(),this.admin.recruitEmployee(t).subscribe({next:n=>{this.loading.hideLoading(),this.confirm.openDialog({image:"https://img.freepik.com/free-vector/green-double-circle-check-mark_78370-1749.jpg?t=st=1716797042~exp=1716800642~hmac=a4fd07f24adfaaf3c7211e2f21c0a9ea62f5b8572622905950c872e0ac9edac2&w=740",confirmationMessage:"Employee Added Successfully",bodyText:"employeeID and Temporary pass shared to employee email",showConfirmButton:!0}),this.reactiveForm.reset(),console.log(n)},error:n=>{this.loading.hideLoading(),console.log(n),this.confirm.openDialog({image:"https://img.freepik.com/free-vector/red-triangle-warning-sign-vector-art-illustration_56104-865.jpg?t=st=1716797233~exp=1716800833~hmac=78641f1e461d87ee30e77159c034df78bfc352fea212eea387d3be0529647ad4&w=900",confirmationMessage:"Recruitment Failed",bodyText:n.error.message,showConfirmButton:!0})}}))}get employeeName(){return this.reactiveForm.get("employeeName")}get gender(){return this.reactiveForm.get("gender")}get contactNumber(){return this.reactiveForm.get("contactNumber")}get salary(){return this.reactiveForm.get("salary")}get contactEmail(){return this.reactiveForm.get("contactEmail")}get jobTitle(){return this.reactiveForm.get("jobTitle")}get dateOfBirth(){return this.reactiveForm.get("dateOfBirth")}onConfirm(){}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(r.qu),e.Y36(u),e.Y36(T.B),e.Y36(p.b))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-employee-form"]],decls:52,vars:9,consts:[[1,"min-h-full","w-full","bg-teal-950","md:px-14","mb-4"],[1,"w-full","self-center","min-h-full","flex","flex-col","shadow-2xl","text-[#76839A]"],[1,"bg-teal-950","hidden","md:flex","text-gray-200","flex-row","justify-center","items-center","text-center","h-16"],[1,"font-bold"],[1,"w-full","bg-teal-900","text-white","p-4","flex","flex-col","items-center"],[1,"w-full","grid","grid-cols-1","md:grid-cols-4","gap-4",3,"formGroup","ngSubmit"],[1,"flex","flex-col","mb-4"],["for","employeeName",1,"text-white"],["type","text","id","employeeName","formControlName","employeeName","placeholder","Enter First Name","required","",1,"border","rounded-lg","border-gray-200","mt-2","px-3","py-2","text-gray-900","focus:outline-none","focus:border-teal-950"],["class","text-red-500 text-sm",4,"ngIf"],["for","gender",1,"text-white"],["id","gender","formControlName","gender","required","",1,"border","rounded-lg","border-gray-200","mt-2","px-3","py-2","text-gray-900","focus:outline-none","focus:border-teal-950"],["value","","disabled","","selected",""],["value","male"],["value","female"],["for","contactNumber",1,"text-white"],["type","text","id","contactNumber","formControlName","contactNumber","placeholder","Enter Phone Number","required","",1,"border","rounded-lg","border-gray-200","mt-2","px-3","py-2","text-gray-900","focus:outline-none","focus:border-teal-950"],["for","salary",1,"text-white"],["type","number","id","salary","formControlName","salary","placeholder","Enter Salary","required","",1,"border","rounded-lg","border-gray-200","mt-2","px-3","py-2","text-gray-900","focus:outline-none","focus:border-teal-950"],["for","email",1,"text-white"],["type","text","id","email","formControlName","contactEmail","placeholder","Enter email address","required","",1,"border","rounded-lg","border-gray-200","mt-2","px-3","py-2","text-gray-900","focus:outline-none","focus:border-teal-950"],["for","jobTitle",1,"text-white"],["type","text","id","jobTitle","formControlName","jobTitle","placeholder","Enter job title","required","",1,"border","rounded-lg","border-gray-200","mt-2","px-3","py-2","text-gray-900","focus:outline-none","focus:border-teal-950"],["for","dateOfBirth",1,"text-white"],["type","date","id","dateOfBirth","formControlName","dateOfBirth","required","",1,"border","rounded-lg","border-gray-200","mt-2","px-3","py-2","text-gray-900","focus:outline-none","focus:border-teal-950"],[1,"flex","justify-center","p-4"],["type","submit",1,"bg-teal-950","text-white","font-semibold","px-6","py-2","rounded-lg","mt-4","w-full",3,"disabled"],[3,"confirm"],[1,"text-red-500","text-sm"],[4,"ngIf"]],template:function(n,l){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4,"ADD EMPLOYEE"),e.qZA()(),e.TgZ(5,"div",4)(6,"form",5),e.NdJ("ngSubmit",function(){return l.onSubmit()}),e.TgZ(7,"div",6)(8,"label",7),e._uU(9,"EMPLOYEE NAME:"),e.qZA(),e._UZ(10,"input",8),e.YNc(11,N,3,2,"div",9),e.qZA(),e.TgZ(12,"div",6)(13,"label",10),e._uU(14,"GENDER:"),e.qZA(),e.TgZ(15,"select",11)(16,"option",12),e._uU(17,"Select Gender"),e.qZA(),e.TgZ(18,"option",13),e._uU(19,"Male"),e.qZA(),e.TgZ(20,"option",14),e._uU(21,"Female"),e.qZA()(),e.YNc(22,U,2,1,"div",9),e.qZA(),e.TgZ(23,"div",6)(24,"label",15),e._uU(25,"PHONE NUMBER:"),e.qZA(),e._UZ(26,"input",16),e.YNc(27,w,3,2,"div",9),e.qZA(),e.TgZ(28,"div",6)(29,"label",17),e._uU(30,"SALARY:"),e.qZA(),e._UZ(31,"input",18),e.YNc(32,Y,3,2,"div",9),e.qZA(),e.TgZ(33,"div",6)(34,"label",19),e._uU(35,"EMAIL:"),e.qZA(),e._UZ(36,"input",20),e.YNc(37,Q,3,2,"div",9),e.qZA(),e.TgZ(38,"div",6)(39,"label",21),e._uU(40,"JOB TITLE:"),e.qZA(),e._UZ(41,"input",22),e.YNc(42,S,3,2,"div",9),e.qZA(),e.TgZ(43,"div",6)(44,"label",23),e._uU(45,"DATE OF BIRTH:"),e.qZA(),e._UZ(46,"input",24),e.YNc(47,k,2,1,"div",9),e.qZA(),e.TgZ(48,"div",25)(49,"button",26),e._uU(50,"SUBMIT"),e.qZA()()()()()(),e.TgZ(51,"app-confirmation-dialog",27),e.NdJ("confirm",function(){return l.onConfirm()}),e.qZA()),2&n&&(e.xp6(6),e.Q6J("formGroup",l.reactiveForm),e.xp6(5),e.Q6J("ngIf",(null==l.employeeName?null:l.employeeName.touched)&&(null==l.employeeName?null:l.employeeName.invalid)),e.xp6(11),e.Q6J("ngIf",(null==l.gender?null:l.gender.touched)&&(null==l.gender?null:l.gender.invalid)),e.xp6(5),e.Q6J("ngIf",(null==l.contactNumber?null:l.contactNumber.touched)&&(null==l.contactNumber?null:l.contactNumber.invalid)),e.xp6(5),e.Q6J("ngIf",(null==l.salary?null:l.salary.touched)&&(null==l.salary?null:l.salary.invalid)),e.xp6(5),e.Q6J("ngIf",(null==l.contactEmail?null:l.contactEmail.touched)&&(null==l.contactEmail?null:l.contactEmail.invalid)),e.xp6(5),e.Q6J("ngIf",(null==l.jobTitle?null:l.jobTitle.touched)&&(null==l.jobTitle?null:l.jobTitle.invalid)),e.xp6(5),e.Q6J("ngIf",(null==l.dateOfBirth?null:l.dateOfBirth.touched)&&(null==l.dateOfBirth?null:l.dateOfBirth.invalid)),e.xp6(2),e.Q6J("disabled",!l.reactiveForm.valid))},dependencies:[c.O5,A.z,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.JJ,r.JL,r.Q7,r.sg,r.u]})}return o})();var $=a(7765);function G(o,i){1&o&&(e.ynx(0),e.TgZ(1,"div",5)(2,"p",6),e._uU(3,"*No leave requests found at the Moment."),e.qZA()(),e.BQk())}function z(o,i){if(1&o&&e._UZ(0,"img",28),2&o){const t=e.oxw().$implicit;e.Q6J("src",t.photo,e.LSH)}}function H(o,i){if(1&o&&(e.TgZ(0,"li",31)(1,"span"),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",e.xi3(3,1,t,"medium")," ")}}function P(o,i){if(1&o&&(e.TgZ(0,"ul",29),e.YNc(1,H,4,4,"li",30),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",t)}}function X(o,i){if(1&o&&(e.TgZ(0,"div",19)(1,"p",32),e._uU(2,"Attachment:"),e.qZA(),e._UZ(3,"img",33),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("src",t.attachment,e.LSH)}}function K(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10),e.YNc(4,z,1,1,"img",11),e.TgZ(5,"div",12)(6,"h2",13),e._uU(7),e.ALo(8,"uppercase"),e.qZA(),e.TgZ(9,"h3",14),e._uU(10),e.ALo(11,"uppercase"),e.qZA(),e.TgZ(12,"div",15)(13,"h4",16),e._uU(14," STATUS : "),e.TgZ(15,"span",17),e._uU(16),e.ALo(17,"uppercase"),e.qZA()()()()(),e.TgZ(18,"div",18)(19,"div",19)(20,"p",20),e._uU(21,"Description:"),e.qZA(),e.TgZ(22,"p",21),e._uU(23),e.qZA()(),e.TgZ(24,"div",22)(25,"p",20),e._uU(26,"Dates:"),e.qZA(),e.YNc(27,P,2,1,"ul",23),e.qZA(),e.YNc(28,X,4,1,"div",24),e.TgZ(29,"div",25)(30,"button",26),e.NdJ("click",function(){const s=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.onDecline(s._id))}),e._uU(31,"Decline"),e.qZA(),e.TgZ(32,"button",27),e.NdJ("click",function(){const s=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.onApprove(s._id))}),e._uU(33,"Approve"),e.qZA()()()()()()}if(2&o){const t=i.$implicit,n=e.oxw();e.xp6(4),e.Q6J("ngIf",t.photo),e.xp6(3),e.hij("AUTHOR : ",e.lcZ(8,8,t.userName)," "),e.xp6(3),e.hij(" TITLE : ",e.lcZ(11,10,t.title),""),e.xp6(5),e.Q6J("ngStyle",n.getStatusColor(t.reviewStatus)),e.xp6(1),e.Oqu(e.lcZ(17,12,t.reviewStatus)),e.xp6(7),e.Oqu(t.description),e.xp6(4),e.Q6J("ngForOf",t.requestedDates),e.xp6(1),e.Q6J("ngIf",t.attachment)}}let V=(()=>{class o{constructor(t){this.api=t,this.leaveRequests=[],this.requestedDates=[]}toggleExpand(t){t.expanded=!t.expanded}getStatusColor(t){switch(t.toLowerCase()){case"pending":return{color:"green"};case"approved":return{color:"red"};case"declined":return{color:"yellow"};default:return{}}}ngOnInit(){this.api.getLeaveRequests().subscribe({next:t=>{this.leaveRequests=[...t?.data],console.log(this.leaveRequests)},error:t=>{console.log(t)}})}onApprove(t){this.api.updateLeaveRequest(t,"Approved").subscribe({next:n=>{console.log(n),alert("leaveApproved successfully"),this.api.getLeaveRequests().subscribe({next:l=>{this.leaveRequests=[...l?.data],console.log(this.leaveRequests)},error:l=>{console.log(l)}})},error:n=>{alert("leaveApprove failed")}})}onDecline(t){this.api.updateLeaveRequest(t,"denied").subscribe({next:n=>{console.log(n),alert("Leave request declined successfully"),this.api.getLeaveRequests().subscribe({next:l=>{this.leaveRequests=[...l?.data],console.log(this.leaveRequests)},error:l=>{console.log(l)}})},error:n=>{console.log(n),alert("Failed to Decline the leave request")}})}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(u))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-approve-leave"]],decls:6,vars:2,consts:[[1,"min-h-full","w-full","bg-teal-950","p-8"],[1,"text-white","text-xl","mb-4"],[4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["class","card-container bg-teal-900 h-auto sm:overflow-hidden overflow-scroll sm:h-auto",4,"ngFor","ngForOf"],[1,"flex","justify-center","items-center","h-full","md:text-xl"],[1,"text-red-900","font-semibold"],[1,"card-container","bg-teal-900","h-auto","sm:overflow-hidden","overflow-scroll","sm:h-auto"],[1,"card","rounded-lg","shadow-md","overflow-hidden","bg-teal-800"],[1,"bg-teal-800"],[1,"flex","items-center","flex-col","gap-4","p-4","cursor-pointer"],["alt","","class","w-20 h-20 object-cover rounded-full mr-4",3,"src",4,"ngIf"],[1,"flex","flex-col","text-left","gap-0"],[1,"text-xl","font-semibold","text-gray-300"],[1,"text-lg","font-medium","text-gray-400"],[1,"flex","flex-col","items-center","text-sm","text-teal-500","justify-around","w-full"],[1,"mr-2","font-bold","p-3","bg-teal-950"],[3,"ngStyle"],[1,"p-4","gap-4","overflow-hidden"],[1,"bg-teal-900","p-4","mt-4","rounded-lg"],[1,"text-lg","font-semibold","text-teal-300","mb-2"],[1,"text-teal-400"],[1,"bg-teal-900","p-4","rounded-lg","mt-4"],["class","list-disc pl-4",4,"ngFor","ngForOf"],["class","bg-teal-900 p-4 mt-4 rounded-lg",4,"ngIf"],[1,"flex","justify-center","gap-4","mt-5"],[1,"bg-red-700","text-white","font-bold","py-2","px-4","rounded-full","transition","duration-300","ease-in-out",3,"click"],[1,"bg-blue-700","text-white","font-bold","py-2","px-4","rounded-full","transition","duration-300","ease-in-out",3,"click"],["alt","",1,"w-20","h-20","object-cover","rounded-full","mr-4",3,"src"],[1,"list-disc","pl-4"],["class","text-teal-400 mt-2 ",4,"ngIf"],[1,"text-teal-400","mt-2"],[1,"text-lg","font-semibold","text-teal-400","mb-2"],["alt","",1,"object-cover","lg:max-h-[400px]","lg:max-w-[400px]","mb-2",3,"src"]],template:function(n,l){1&n&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2,"LEAVE REQUESTS:"),e.qZA(),e.YNc(3,G,4,0,"ng-container",2),e.TgZ(4,"div",3),e.YNc(5,K,34,14,"div",4),e.qZA()()),2&n&&(e.xp6(3),e.Q6J("ngIf",0===l.leaveRequests.length),e.xp6(2),e.Q6J("ngForOf",l.leaveRequests))},dependencies:[c.sg,c.O5,c.PC,c.gd,c.uU]})}return o})();var W=a(9512),f=a(7878);let ee=(()=>{class o{constructor(t,n,l){this.admin=t,this.loading=n,this.router=l,this.employeesData=[],this.keyID="userID"}ngOnInit(){this.loading.showLoading(),this.subscription=this.admin.getEmployeeDatas().subscribe({next:t=>{this.employeesData=[...t.employees],this.loading.hideLoading()},error:t=>{console.log(t),this.loading.hideLoading()}})}onEmployeeClick(t){this.router.navigate(["admin/employees",t])}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(u),e.Y36(p.b),e.Y36(d.F0))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-employees-data"]],decls:5,vars:2,consts:[[1,"min-h-full","bg-teal-900","flex","flex-col","p-9"],[1,"text-center","text-tel-950","text-2xl","font-semibold"],[1,"pt-14"],[3,"tableData","keyID","clickData"]],template:function(n,l){1&n&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2," Employees Data : "),e.qZA(),e.TgZ(3,"div",2)(4,"app-tablelist",3),e.NdJ("clickData",function(m){return l.onEmployeeClick(m)}),e.qZA()()()),2&n&&(e.xp6(4),e.Q6J("tableData",l.employeesData)("keyID",l.keyID))},dependencies:[f.Y]})}return o})();function te(o,i){if(1&o&&(e.ynx(0),e._UZ(1,"app-tablelist",4),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("tableData",t.attendanceData)("keyID",t.keyID)}}function oe(o,i){1&o&&(e.TgZ(0,"div",5)(1,"p"),e._uU(2,"No data available"),e.qZA()())}let ne=(()=>{class o{constructor(t,n,l){this.loading=t,this.api=n,this.route=l,this.attendanceData=[],this.keyID="userID",this.showTable=!1}ngOnInit(){this.loading.showLoading(),this.api.getEmployeeAttendance(this.route.snapshot.params.id).subscribe({next:n=>{console.log(n),this.attendanceData=n.attendanceRecords,this.showTable=this.attendanceData.length>0,this.loading.hideLoading()},error:n=>{console.log(n),this.loading.hideLoading()}})}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(p.b),e.Y36(u),e.Y36(d.gz))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-employeeregister"]],decls:6,vars:2,consts:[[1,"min-h-full","bg-teal-950","p-4"],[1,"text-center","text-white","text-2xl","mb-4"],[4,"ngIf","ngIfElse"],["noDataTemplate",""],[3,"tableData","keyID"],[1,"text-center","text-white"]],template:function(n,l){if(1&n&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Employee Attendance"),e.qZA(),e.YNc(3,te,2,2,"ng-container",2),e.YNc(4,oe,3,0,"ng-template",null,3,e.W1O),e.qZA()),2&n){const s=e.MAs(5);e.xp6(3),e.Q6J("ngIf",l.showTable)("ngIfElse",s)}},dependencies:[c.O5,f.Y]})}return o})();function le(o,i){if(1&o&&(e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div")(6,"p",6),e._uU(7),e.ALo(8,"currency"),e.qZA(),e.TgZ(9,"p",7),e._uU(10,"Salary"),e.qZA()(),e.TgZ(11,"div")(12,"p",6),e._uU(13),e.qZA(),e.TgZ(14,"p",7),e._uU(15,"Role"),e.qZA()(),e.TgZ(16,"div")(17,"p",6),e._uU(18),e.qZA(),e.TgZ(19,"p",7),e._uU(20,"Gender"),e.qZA()()(),e.TgZ(21,"div",8)(22,"div",9),e._UZ(23,"img",10),e.qZA()(),e._UZ(24,"div",11),e.qZA(),e.TgZ(25,"div",12)(26,"h1",13),e._uU(27),e.qZA(),e.TgZ(28,"p",14),e._uU(29),e.qZA(),e.TgZ(30,"p",15),e._uU(31),e.qZA(),e.TgZ(32,"p",16),e._uU(33),e.qZA()(),e._UZ(34,"div",17),e.qZA()()()),2&o){const t=e.oxw();e.xp6(7),e.Oqu(e.xi3(8,7,t.employeeData.salary,"INR")),e.xp6(6),e.Oqu(t.employeeData.role),e.xp6(5),e.Oqu(t.employeeData.gender),e.xp6(9),e.Oqu(t.employeeData.name),e.xp6(2),e.Oqu(t.employeeData.email),e.xp6(2),e.Oqu(t.employeeData.role),e.xp6(2),e.Oqu(t.employeeData.contactNumber)}}let ie=(()=>{class o{constructor(t,n,l,s){this.activatedRoute=t,this.admin=n,this.router=l,this.loading=s,this.attendanceData=[],this.isEditFormVisible=!1,this.subscriptions=[]}ngOnInit(){this.loading.showLoading();const n=this.admin.getFullEmployeeData(this.activatedRoute.snapshot.params.id).subscribe({next:l=>{this.employeeData=l.data,this.loading.hideLoading()},error:l=>{console.log(l),alert(l.error.message),this.loading.hideLoading()}});this.subscriptions.push(n)}onDelete(){const t=this.activatedRoute.snapshot.params.id;console.log(`Deleting employee with ID: ${t}`),this.loading.showLoading();const n=this.admin.deletingEmployee(t).subscribe({next:l=>{console.log(l),this.loading.hideLoading(),this.router.navigate(["/employees"])},error:l=>{console.log(l),this.loading.hideLoading()}});this.subscriptions.push(n)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(d.gz),e.Y36(u),e.Y36(d.F0),e.Y36(p.b))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-employee-details"]],decls:2,vars:1,consts:[["class","w-full h-full overflow-scroll bg-teal-950",4,"ngIf"],[1,"w-full","h-full","overflow-scroll","bg-teal-950"],[1,"p-8"],[1,"p-8","bg-teal-800","shadow","mt-24"],[1,"grid","grid-cols-1","md:grid-cols-3"],[1,"grid","grid-cols-3","text-center","order-last","md:order-first","mt-20","md:mt-0"],[1,"font-bold","text-gray-700","text-xl"],[1,"text-gray-400"],[1,""],[1,"w-48","h-48","bg-indigo-100","object-cover","mx-auto","rounded-full","shadow-2xl","inset-x-0","top-0","-mt-24","flex","text-indigo-500"],["alt","",1,"flex-1","rounded-full","object-cover",3,"src"],[1,"space-x-8","flex","justify-between","mt-32","md:mt-0","md:justify-center"],[1,"mt-20","text-center","border-b","pb-12"],[1,"text-4xl","font-medium","text-gray-300"],[1,"font-light","text-gray-400","mt-3"],[1,"mt-8","text-gray-500"],[1,"mt-8","text-gray-400"],[1,"text-center","mt-8"]],template:function(n,l){1&n&&(e.YNc(0,le,35,10,"div",0),e._UZ(1,"app-employeeregister")),2&n&&e.Q6J("ngIf",l.employeeData)},dependencies:[c.O5,ne,c.H9]})}return o})();var re=a(2096),ae=a(7398),se=a(6306),ce=a(2333);const de=[{path:"",component:x,canActivate:[(()=>{class o{constructor(t,n){this.userService=t,this.router=n}canActivate(){return this.userService.getRole().pipe((0,ae.U)(t=>"admin"===t||(this.router.navigate(["/login"]),!1)),(0,se.K)(()=>(this.router.navigate(["/login"]),(0,re.of)(!1))))}static#e=this.\u0275fac=function(n){return new(n||o)(e.LFG(ce.W),e.LFG(d.F0))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()],children:[{path:"",redirectTo:"checkIn",pathMatch:"full"},{path:"dashboard",component:b},{path:"employee",component:M},{path:"checkIn",component:$.l},{path:"leaveRequest",component:V},{path:"attendance",component:W.T},{path:"employees",component:ee},{path:"employees/:id",component:ie}]}];let ue=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.oAB({type:o});static#o=this.\u0275inj=e.cJS({imports:[d.Bz.forChild(de),d.Bz]})}return o})();var me=a(8524),pe=a(617),ge=a(9229),fe=a(6655);let he=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.oAB({type:o});static#o=this.\u0275inj=e.cJS({imports:[c.ez,ue,me.m,r.UX,r.u5,pe.Ps,ge.AuthModule,fe.EmployeeModule]})}return o})()}}]);